apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: cp4waiops-app
  namespace: argocd
spec:
  destination:
    namespace: argocd
    server: https://kubernetes.default.svc
  project: default
  source:
    helm:
      parameters:
      - name: argocd.allowLocalDeploy
        value: "false"
      - name: argocd.cluster
        value: kubernetes
      - name: cp4waiops.eventManager.enabled
        value: "false"
      - name: cp4waiops.version
        value: v3.4
      - name: rookceph.enabled
        value: "false"
      valueFiles:
      - values.yaml
      values: |-
        globalImagePullSecrets:
        - registry: REGISTRY
          username: USERNAME
          password: PASSWORD
        cp4waiops:
          repoURL: GIT_REPO
          targetRevision: HEAD
        storageClass: STORAGECLASS
        storageClassLargeBlock: STORAGECLASS
    path: config/all-in-one
    repoURL: GIT_REPO
    targetRevision: HEAD
  syncPolicy:
    automated: {}
